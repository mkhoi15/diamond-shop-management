@page
@model diamond_shop_management.Pages.Admin.Index

@{
    Layout = "Shared/_Layout";
    ViewBag.Title = "Account Management";
}

<h1 class="text-center mt-5" style="margin-top: 70px">Account Management</h1>


<div class="container">
    <div class="d-flex justify-content-between">
        <a class="btn btn-primary" asp-page="./Create" style="margin-top: 40px; height: 40px">
            Create Account
        </a>
        <form method="get" class="form-inline mt-5">
            <div class="form-group">
                <input class="form-control" asp-for="Search" placeholder="Input user email"/>
            </div>
            <button type="submit" class="btn btn-primary ml-2">Search</button>
        </form>
    </div>
    <table class="table table-striped table-hover w-100" style="margin-top: 20px;">
        <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">Username</th>
            <th scope="col">Phone</th>
            <th scope="col">Email</th>
            <th scope="col">Role</th>
            <th scope="col">Action</th>
        </tr>
        </thead>
        @if (Model.Users.Count == 0)
        {
            <tr>
                <td colspan="5">No data</td>
            </tr>
        }
        else
        {
            @foreach (var user in Model.Users)
            {
                <tr>
                    <th scope="row">@(Model.Users.IndexOf(user) + 1)</th>
                    <td>@user.UserName</td>
                    <td>@user.PhoneNumber</td>
                    <td>@user.Email</td>
                    <td>@user.Role</td>
                    <td>
                        <a asp-page="./Edit" asp-route-id="@user.Id">Edit</a> |
                        <a asp-page="./Delete" asp-route-id="@user.Id">Delete</a>
                    </td>
                </tr>
            }
        }

    </table>
</div>

<nav aria-label="Page navigation example" class="d-flex align-content-center justify-content-center">
    <ul class="pagination">
        <li class="page-item @(Model.HasPrevious ? "" : "disabled")">
            <a class="page-link"
               asp-page="./Index"
               asp-route-search="@Model.Search"
               asp-route-currentPage="@(Model.CurrentPage - 1)"
               aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
                <span class="sr-only">Previous</span>
            </a>
        </li>
        @for (int i = 1; i <= Model.TotalPage; i++)
        {
            <li class="page-item @(Model.CurrentPage == i ? "active" : "")">
                <a class="page-link"
                   asp-page="./Index"
                   asp-route-search="@Model.Search"
                   asp-route-currentPage="@i">
                    
                    @i
                </a>
            </li>
        }
        <li class="page-item @(Model.HasNext ? "" : "disabled")">
            <a class="page-link"
               asp-page="./Index"
               asp-route-currentPage="@(Model.CurrentPage + 1)"
               asp-route-search="@Model.Search"
               aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
                <span class="sr-only">Next</span>
            </a>
        </li>
    </ul>
</nav>